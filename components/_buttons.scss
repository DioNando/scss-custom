// ============================================================================
// BUTTONS - Components
// ============================================================================
// Button component styles and variations

@use "sass:color";
@use "sass:map";
@use "../abstracts/variables" as *;
@use "../abstracts/mixins" as *;
@use "../abstracts/placeholders" as *;

// Base button styles
.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.625rem 1.25rem;
    font-size: map.get($font-sizes, base);
    font-weight: map.get($font-weights, medium);
    line-height: 1.5;
    text-decoration: none;
    text-align: center;
    border: 2px solid transparent;
    border-radius: map.get($border-radii, md);
    cursor: pointer;
    transition: all 0.3s ease;
    white-space: nowrap;
    user-select: none;

    &:disabled {
        opacity: 0.6;
        cursor: not-allowed;
    }

    &:focus-visible {
        outline: 2px solid currentColor;
        outline-offset: 2px;
    }
}

// Button sizes
.btn-xs {
    padding: 0.25rem 0.75rem;
    font-size: map.get($font-sizes, xs);
}

.btn-sm {
    padding: 0.375rem 1rem;
    font-size: map.get($font-sizes, sm);
}

.btn-md {
    padding: 0.625rem 1.25rem;
    font-size: map.get($font-sizes, base);
}

.btn-lg {
    padding: 0.75rem 1.75rem;
    font-size: map.get($font-sizes, lg);
}

.btn-xl {
    padding: 0.875rem 2.25rem;
    font-size: map.get($font-sizes, xl);
}

// Button variants - solid/primary
.btn-primary {
    background-color: map.get($colors, primary);
    color: map.get($colors, white);
    border-color: map.get($colors, primary);

    &:hover:not(:disabled) {
        background-color: color.scale(
            map.get($colors, primary),
            $lightness: -10%
        );
        border-color: color.scale(map.get($colors, primary), $lightness: -10%);
    }

    &:active:not(:disabled) {
        background-color: color.scale(
            map.get($colors, primary),
            $lightness: -20%
        );
        border-color: color.scale(map.get($colors, primary), $lightness: -20%);
    }
}

.btn-secondary {
    background-color: map.get($colors, secondary);
    color: map.get($colors, white);
    border-color: map.get($colors, secondary);

    &:hover:not(:disabled) {
        background-color: color.scale(
            map.get($colors, secondary),
            $lightness: -10%
        );
        border-color: color.scale(
            map.get($colors, secondary),
            $lightness: -10%
        );
    }

    &:active:not(:disabled) {
        background-color: color.scale(
            map.get($colors, secondary),
            $lightness: -20%
        );
        border-color: color.scale(
            map.get($colors, secondary),
            $lightness: -20%
        );
    }
}

.btn-accent {
    background-color: map.get($colors, accent);
    color: map.get($colors, white);
    border-color: map.get($colors, accent);

    &:hover:not(:disabled) {
        background-color: color.scale(
            map.get($colors, accent),
            $lightness: -10%
        );
        border-color: color.scale(map.get($colors, accent), $lightness: -10%);
    }

    &:active:not(:disabled) {
        background-color: color.scale(
            map.get($colors, accent),
            $lightness: -20%
        );
        border-color: color.scale(map.get($colors, accent), $lightness: -20%);
    }
}

.btn-success {
    background-color: map.get($colors, success);
    color: map.get($colors, white);
    border-color: map.get($colors, success);

    &:hover:not(:disabled) {
        background-color: color.scale(
            map.get($colors, success),
            $lightness: -10%
        );
        border-color: color.scale(map.get($colors, success), $lightness: -10%);
    }

    &:active:not(:disabled) {
        background-color: color.scale(
            map.get($colors, success),
            $lightness: -20%
        );
        border-color: color.scale(map.get($colors, success), $lightness: -20%);
    }
}

.btn-error {
    background-color: map.get($colors, danger);
    color: map.get($colors, white);
    border-color: map.get($colors, danger);

    &:hover:not(:disabled) {
        background-color: color.scale(
            map.get($colors, danger),
            $lightness: -10%
        );
        border-color: color.scale(map.get($colors, danger), $lightness: -10%);
    }

    &:active:not(:disabled) {
        background-color: color.scale(
            map.get($colors, danger),
            $lightness: -20%
        );
        border-color: color.scale(map.get($colors, danger), $lightness: -20%);
    }
}

.btn-warning {
    background-color: map.get($colors, warning);
    color: map.get($colors, white);
    border-color: map.get($colors, warning);

    &:hover:not(:disabled) {
        background-color: color.scale(
            map.get($colors, warning),
            $lightness: -10%
        );
        border-color: color.scale(map.get($colors, warning), $lightness: -10%);
    }

    &:active:not(:disabled) {
        background-color: color.scale(
            map.get($colors, warning),
            $lightness: -20%
        );
        border-color: color.scale(map.get($colors, warning), $lightness: -20%);
    }
}

.btn-info {
    background-color: map.get($colors, info);
    color: map.get($colors, white);
    border-color: map.get($colors, info);

    &:hover:not(:disabled) {
        background-color: color.scale(map.get($colors, info), $lightness: -10%);
        border-color: color.scale(map.get($colors, info), $lightness: -10%);
    }

    &:active:not(:disabled) {
        background-color: color.scale(map.get($colors, info), $lightness: -20%);
        border-color: color.scale(map.get($colors, info), $lightness: -20%);
    }
}

// Button variants - outline
.btn-outline-primary {
    background-color: transparent;
    color: map.get($colors, primary);
    border-color: map.get($colors, primary);

    &:hover:not(:disabled) {
        background-color: map.get($colors, primary);
        color: map.get($colors, white);
    }

    &:active:not(:disabled) {
        background-color: color.scale(
            map.get($colors, primary),
            $lightness: -10%
        );
        border-color: color.scale(map.get($colors, primary), $lightness: -10%);
    }
}

.btn-outline-secondary {
    background-color: transparent;
    color: map.get($colors, secondary);
    border-color: map.get($colors, secondary);

    &:hover:not(:disabled) {
        background-color: map.get($colors, secondary);
        color: map.get($colors, white);
    }

    &:active:not(:disabled) {
        background-color: color.scale(
            map.get($colors, secondary),
            $lightness: -10%
        );
        border-color: color.scale(
            map.get($colors, secondary),
            $lightness: -10%
        );
    }
}

// Button variants - ghost/text
.btn-ghost {
    background-color: transparent;
    color: map.get($colors, primary);
    border-color: transparent;

    &:hover:not(:disabled) {
        background-color: map.get($colors, gray-100);
        border-color: transparent;
    }

    &:active:not(:disabled) {
        background-color: map.get($colors, gray-200);
    }
}

// Button variants - link
.btn-link {
    background-color: transparent;
    color: map.get($colors, primary);
    border-color: transparent;
    padding: 0;
    text-decoration: underline;

    &:hover:not(:disabled) {
        text-decoration: none;
        color: color.scale(map.get($colors, primary), $lightness: -10%);
    }

    &:active:not(:disabled) {
        color: color.scale(map.get($colors, primary), $lightness: -20%);
    }
}

// Button width variants
.btn-block {
    width: 100%;
}

.btn-inline {
    width: auto;
}

// Button radius variants
.btn-rounded-none {
    border-radius: 0;
}

.btn-rounded-sm {
    border-radius: map.get($border-radii, sm);
}

.btn-rounded {
    border-radius: map.get($border-radii, md);
}

.btn-rounded-lg {
    border-radius: map.get($border-radii, lg);
}

.btn-rounded-full {
    border-radius: map.get($border-radii, full);
}

// Button group
.btn-group {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;

    &.btn-group-vertical {
        flex-direction: column;
    }
}

// Loading state
.btn-loading {
    opacity: 0.8;
    pointer-events: none;

    &::after {
        content: "";
        display: inline-block;
        width: 1em;
        height: 1em;
        margin-left: 0.5rem;
        border: 2px solid currentColor;
        border-right-color: transparent;
        border-radius: 50%;
        animation: spin 0.6s linear infinite;
    }
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}
